{# Dywee\AddressBundle\Resources\View\Admin\table.html.twig #}

{%  extends "DyweeAddressBundle::admin.html.twig" %}

{% block title %}
    Liste des adresses {{ parent() }}
{% endblock %}

{% block body %}
    {% for flashMessage in app.session.flashbag.get('success') %}
        <div class="alert alert-success"> {{ flashMessage }} </div>
    {% endfor %}

    <div class="actions-right">
        <a href="{{ path('dywee_address_admin_add') }}" class="btn btn-success"><i class="fa fa-plus"></i> Ajouter</a>
        <button class="btn btn-default">Chercher</button>
    </div>

    <div class="title-heading">
        <h1 class="text-center">Liste des adresses</h1>
    </div>
    <table class="table table-striped table-hover table-condensed">
        <thead>
        <tr>
            <th{% if pagination.isSorted('a.id') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, '#', 'a.id') }}
            </th>
            <th{% if pagination.isSorted('a.firstName') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Prénom', 'a.firstName') }}
            </th>
            <th{% if pagination.isSorted('a.lastName') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Nom', 'a.lastName') }}
            </th>
            <th{% if pagination.isSorted('a.address1') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Rue', 'a.address1') }}
            </th>
            <th{% if pagination.isSorted('a.cityString') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Ville', 'a.cityString') }}
            </th>
            <th{% if pagination.isSorted('a.country') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Pays', 'a.country') }}
            </th>
            <th{% if pagination.isSorted('a.phone') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Téléphone', 'a.phone') }}
            </th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {%  for address in pagination %}
            <tr>
                <td>{{ address.id }}</td>
                <td>{{ address.firstName }}</td>
                <td>{{ address.lastName }}</td>
                <td>{{ address.address1 }}</td>
                <td>{{ address.cityString }}</td>
                <td>{{ address.country.name}}</td>
                <td>{{ address.mobile }}</td>
                <td> <a href="{{ path('dywee_address_admin_view', {id: address.id}) }}" class="link-unstyled" target="_blank"><i class="fa fa-eye"></i> </a>
                        <a href="{{ path('dywee_address_admin_update', {id: address.id}) }}" class="link-unstyled"><i class="fa fa-pencil"></i> </a>
                        <a href="{{ path('dywee_address_admin_delete', {id: address.id}) }}" class="link-unstyled"><i class="fa fa-trash-o"></i> </a>
                    
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="navigation text-center">
        {{ knp_pagination_render(pagination) }}
    </div>

{% endblock %}